<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flask API Form</title>
    <script>
        function submitData(event) {
            event.preventDefault();

            var passage = document.getElementById('passage').value;
            var question = document.getElementById('question').value;
            var answer = document.getElementById('answer').value;

            fetch('http://127.0.0.1:5000/get_txt', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ passage: passage, question: question, answer: answer })
        })
            .then(response => {
                // Log the response here
                console.log(response);
                return response.json();
            })
            .then(data => {
                document.getElementById('response').textContent = JSON.stringify(data, null, 2);
            })
            .catch(error => console.error('Error:', error));

        }
    </script>
</head>
<body>
    <h1>Test MOOCHI</h1>
    <form id="dataForm" onsubmit="submitData(event)">
        <div>
            <label for="passage">Passage:</label><br>
            <textarea id="passage" name="passage" rows="4" cols="150">Media helps people to share knowledge of the world, their feelings and opinions are expressed through it. Media attracts the attention of a very large audience. It is through media that the world has become a global village. Media plays a very constructive role for the society. It raises awareness about many social issues like corruption, terrorism, drug addiction and violation of human rights. Media has become a mouthpiece of the downtrodden. It would not be wrong to say that media is the most vigilant institution that keeps an eye on every segment of the society. Through debates, reports and talk shows it makes everyone accountable and answerable. This is why media has become an integral part of our lives. Media can play a positive role and has a corrective impact if it works honestly.</textarea>
        </div>
        <div>
            <label for="question">Question:</label><br>
            <!-- <input type="text" id="question" name="question" placeholder="Enter question" size="150" value="How has media attracted the attention of a large number of audience?"> -->
            <textarea id="question" name="question" rows="1" cols="150">How has media attracted the attention of a large number of audience?</textarea>
        </div>
        <div>
            <label for="answer">Answer:</label><br>
            <textarea type="text" id="answer" name="answer" rows="3" cols="150">Media attracts a large audience by sharing knowledge, expressing feelings and opinions, and raising awareness about social issues. It has become an integral part of people's lives, keeping them informed and connected through various channels such as television, radio, print, and digital platforms. Media makes it possible for people to access news and entertainment from anywhere in the world.</textarea>
            <!-- <input type="text" id="answer" name="answer" placeholder="Enter answer" size="150" value="Media attracts a large audience by sharing knowledge, expressing feelings and opinions, and raising awareness about social issues. It has become an integral part of people's lives, keeping them informed and connected through various channels such as television, radio, print, and digital platforms. Media makes it possible for people to access news and entertainment from anywhere in the world."> -->
        </div>
        <button type="submit">Submit</button>
    </form>
    <h2>Response:</h2>
    <pre id="response"></pre>
</body>
</html>
